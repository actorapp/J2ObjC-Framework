//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: android/libcore/luni/src/main/java/java/util/zip/Deflater.java
//

#ifndef _JavaUtilZipDeflater_H_
#define _JavaUtilZipDeflater_H_

#include <j2objc/J2ObjC_header.h>

@class IOSByteArray;

#define JavaUtilZipDeflater_BEST_COMPRESSION 9
#define JavaUtilZipDeflater_BEST_SPEED 1
#define JavaUtilZipDeflater_NO_COMPRESSION 0
#define JavaUtilZipDeflater_DEFAULT_COMPRESSION -1
#define JavaUtilZipDeflater_DEFAULT_STRATEGY 0
#define JavaUtilZipDeflater_DEFLATED 8
#define JavaUtilZipDeflater_FILTERED 1
#define JavaUtilZipDeflater_HUFFMAN_ONLY 2
#define JavaUtilZipDeflater_NO_FLUSH 0
#define JavaUtilZipDeflater_SYNC_FLUSH 2
#define JavaUtilZipDeflater_FULL_FLUSH 3

/*!
 @brief This class compresses data using the <i>DEFLATE</i> algorithm (see <a
 href="http://www.gzip.org/algorithm.txt">specification</a>).
 <p>It is usually more convenient to use <code>DeflaterOutputStream</code>.
 <p>To compress an in-memory <code>byte[]</code> to another in-memory <code>byte[]</code> manually:
 @code

     byte[] originalBytes = ...
     Deflater deflater = new Deflater();
     deflater.setInput(originalBytes);
     deflater.finish();
     ByteArrayOutputStream baos = new ByteArrayOutputStream();
     byte[] buf = new byte[8192];
     while (!deflater.finished()) {
         int byteCount = deflater.deflate(buf);
         baos.write(buf, 0, byteCount);
     }
     deflater.end();
     byte[] compressedBytes = baos.toByteArray();
  
@endcode
 <p>In situations where you don't have all the input in one array (or have so much
 input that you want to feed it to the deflater in chunks), it's possible to call
 <code>setInput</code> repeatedly, but you're much better off using
 <code>DeflaterOutputStream</code> to handle all this for you. <code>DeflaterOutputStream</code> also helps
 minimize memory requirements&nbsp;&mdash; the sample code above is very expensive.
 <a name="compression_level"><h3>Compression levels</h3></a>
 <p>A compression level must be <code>DEFAULT_COMPRESSION</code> to compromise between speed and
 compression (currently equivalent to level 6), or between 0 (<code>NO_COMPRESSION</code>, where
 the input is simply copied) and 9 (<code>BEST_COMPRESSION</code>). Level 1 (<code>BEST_SPEED</code>)
 performs some compression, but with minimal speed overhead.
 */
@interface JavaUtilZipDeflater : NSObject

#pragma mark Public

/*!
 @brief Constructs a new <code>Deflater</code> instance using the
 default <a href="#compression_level">compression level</a>.
 The compression strategy can be specified with <code>setStrategy</code>. A
 header is added to the output by default; use <code>Deflater(int,boolean)</code>
  if you need to omit the header.
 */
- (instancetype)init;

/*!
 @brief Constructs a new <code>Deflater</code> instance with the
 given <a href="#compression_level">compression level</a>.
 The compression strategy can be specified with <code>setStrategy</code>.
 A header is added to the output by default; use
 <code>Deflater(int,boolean)</code> if you need to omit the header.
 */
- (instancetype)initWithInt:(jint)level;

/*!
 @brief Constructs a new <code>Deflater</code> instance with the
 given <a href="#compression_level">compression level</a>.
 If <code>noHeader</code> is true, no ZLIB header is added to the
 output. In a zip file, every entry (compressed file) comes with such a
 header. The strategy can be specified using <code>setStrategy</code>.
 */
- (instancetype)initWithInt:(jint)level
                withBoolean:(jboolean)noHeader;

/*!
 @brief Deflates the data (previously passed to <code>setInput</code>) into the
 supplied buffer.
 @return number of bytes of compressed data written to <code>buf</code>.
 */
- (jint)deflateWithByteArray:(IOSByteArray *)buf;

/*!
 @brief Deflates data (previously passed to <code>setInput</code>) into a specific
 region within the supplied buffer.
 @return the number of bytes of compressed data written to <code>buf</code>.
 */
- (jint)deflateWithByteArray:(IOSByteArray *)buf
                     withInt:(jint)offset
                     withInt:(jint)byteCount;

/*!
 @brief Deflates data (previously passed to <code>setInput</code>) into a specific
 region within the supplied buffer, optionally flushing the input buffer.
 @param flush one of <code>NO_FLUSH</code>, <code>SYNC_FLUSH</code> or <code>FULL_FLUSH</code>.
 @return the number of compressed bytes written to <code>buf</code>. If this
 equals <code>byteCount</code>, the number of bytes of input to be flushed
 may have exceeded the output buffer's capacity. In this case,
 finishing a flush will require the output buffer to be drained
 and additional calls to <code>deflate</code> to be made.
 @throws IllegalArgumentException if <code>flush</code> is invalid.
 @since 1.7
 */
- (jint)deflateWithByteArray:(IOSByteArray *)buf
                     withInt:(jint)offset
                     withInt:(jint)byteCount
                     withInt:(jint)flush;

/*!
 @brief Frees all resources held onto by this deflating algorithm.
 Any unused
 input or output is discarded. This method should be called explicitly in
 order to free native resources as soon as possible. After <code>end()</code> is
 called, other methods will typically throw <code>IllegalStateException</code>.
 */
- (void)end;

/*!
 @brief Indicates to the <code>Deflater</code> that all uncompressed input has been provided
 to it.
 */
- (void)finish;

/*!
 @brief Returns true if <code>finish</code> has been called and all
 data provided by <code>setInput</code> has been
 successfully compressed and consumed by <code>deflate</code>.
 */
- (jboolean)finished;

/*!
 @brief Returns the <code>Adler32</code> checksum of the uncompressed data read so far.
 */
- (jint)getAdler;

/*!
 @brief Returns the total number of bytes read by the <code>Deflater</code>.
 This
 method is the same as <code>getTotalIn</code> except that it returns a
 <code>long</code> value instead of an integer.
 */
- (jlong)getBytesRead;

/*!
 @brief Returns a the total number of bytes written by this <code>Deflater</code>.
 This
 method is the same as <code>getTotalOut</code> except it returns a
 <code>long</code> value instead of an integer.
 */
- (jlong)getBytesWritten;

/*!
 @brief Returns the total number of bytes of input read by this <code>Deflater</code>.
 This
 method is limited to 32 bits; use <code>getBytesRead</code> instead.
 */
- (jint)getTotalIn;

/*!
 @brief Returns the total number of bytes written to the output buffer by this <code>Deflater</code>
 .
 The method is limited to 32 bits; use <code>getBytesWritten</code> instead.
 */
- (jint)getTotalOut;

/*!
 @brief Returns true if <code>setInput</code> must be called before deflation can continue.
 If all uncompressed data has been provided to the <code>Deflater</code>,
 <code>finish</code> must be called to ensure the compressed data is output.
 */
- (jboolean)needsInput;

/*!
 @brief Resets the <code>Deflater</code> to accept new input without affecting any
 previous compression strategy or level settings.
 This
 operation <i>must</i> be called after <code>finished</code> returns
 true if the <code>Deflater</code> is to be reused.
 */
- (void)reset;

/*!
 @brief Sets the dictionary to be used for compression by this <code>Deflater</code>.
 This method can only be called if this <code>Deflater</code> supports the writing
 of ZLIB headers. This is the default, but can be overridden
 using <code>Deflater(int,boolean)</code>.
 */
- (void)setDictionaryWithByteArray:(IOSByteArray *)dictionary;

/*!
 @brief Sets the dictionary to be used for compression by this <code>Deflater</code>.
 This method can only be called if this <code>Deflater</code> supports the writing
 of ZLIB headers. This is the default, but can be overridden
 using <code>Deflater(int,boolean)</code>.
 */
- (void)setDictionaryWithByteArray:(IOSByteArray *)buf
                           withInt:(jint)offset
                           withInt:(jint)byteCount;

/*!
 @brief Sets the input buffer the <code>Deflater</code> will use to extract uncompressed bytes
 for later compression.
 */
- (void)setInputWithByteArray:(IOSByteArray *)buf;

/*!
 @brief Sets the input buffer the <code>Deflater</code> will use to extract uncompressed bytes
 for later compression.
 */
- (void)setInputWithByteArray:(IOSByteArray *)buf
                      withInt:(jint)offset
                      withInt:(jint)byteCount;

/*!
 @brief Sets the given <a href="#compression_level">compression level</a>
 to be used when compressing data.
 This value must be set
 prior to calling <code>setInput</code>.
 @throws IllegalArgumentException
 If the compression level is invalid.
 */
- (void)setLevelWithInt:(jint)level;

/*!
 @brief Sets the compression strategy to be used.
 The strategy must be one of
 FILTERED, HUFFMAN_ONLY or DEFAULT_STRATEGY. This value must be set prior
 to calling <code>setInput</code>.
 @throws IllegalArgumentException
 If the strategy specified is not one of FILTERED,
 HUFFMAN_ONLY or DEFAULT_STRATEGY.
 */
- (void)setStrategyWithInt:(jint)strategy;

#pragma mark Protected

- (void)dealloc;

@end

J2OBJC_EMPTY_STATIC_INIT(JavaUtilZipDeflater)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, BEST_COMPRESSION, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, BEST_SPEED, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, NO_COMPRESSION, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, DEFAULT_COMPRESSION, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, DEFAULT_STRATEGY, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, DEFLATED, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, FILTERED, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, HUFFMAN_ONLY, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, NO_FLUSH, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, SYNC_FLUSH, jint)

J2OBJC_STATIC_FIELD_GETTER(JavaUtilZipDeflater, FULL_FLUSH, jint)

FOUNDATION_EXPORT void JavaUtilZipDeflater_init(JavaUtilZipDeflater *self);

FOUNDATION_EXPORT JavaUtilZipDeflater *new_JavaUtilZipDeflater_init() NS_RETURNS_RETAINED;

FOUNDATION_EXPORT void JavaUtilZipDeflater_initWithInt_(JavaUtilZipDeflater *self, jint level);

FOUNDATION_EXPORT JavaUtilZipDeflater *new_JavaUtilZipDeflater_initWithInt_(jint level) NS_RETURNS_RETAINED;

FOUNDATION_EXPORT void JavaUtilZipDeflater_initWithInt_withBoolean_(JavaUtilZipDeflater *self, jint level, jboolean noHeader);

FOUNDATION_EXPORT JavaUtilZipDeflater *new_JavaUtilZipDeflater_initWithInt_withBoolean_(jint level, jboolean noHeader) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(JavaUtilZipDeflater)

#endif // _JavaUtilZipDeflater_H_
